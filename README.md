# Daniel_Kyunkrikov_Pyperplan
## Кюнкриков Даниил, НПИмд-01-24. Пересдача по предмету: ЯПдляИИ 

## Examination

Задание: Создание мультиагентного планировщика с использованием Pyperplan, задачей которого является построение башни из четырёх блоков (A, B, C, D) двумя агентами, A1 и A2, с учётом ограничений на то, какие блоки каждый агент может обрабатывать.

Для данной задачи были созданы два файла PDDL: domain.pddl и problem.pddl.
Файлы были разработаны вручную на основе задачи "Blocks World", но адаптированы для мультиагентного сценария. 

Домен был расширен добавлением типа agent и предиката can-handle, чтобы ограничить действия каждого агента конкретными блоками.

domain.pddl:

![image](https://github.com/user-attachments/assets/05aa18b2-f468-436b-9db1-608e815bf8eb)


Проблема была составлена с учётом конкретного начального состояния (все блоки на столе) и целевого состояния (башня A-B-C-D).

problem.pddl:

![image](https://github.com/user-attachments/assets/d47f3375-ff53-4faa-ae8d-070beef74bc6)

## Основной код

Основной код представлен в файле "exam8(1)(1).py"
Была написана функция парсинга:

![image](https://github.com/user-attachments/assets/4d060c00-5448-4bd0-9e57-68c98ea07472)


Функция принимает сырой план от Pyperplan и преобразует его в читаемый список, разбирает каждое действие на части: название действия, агент и параметры. Преобразует PDDL-формат в естественный язык и возвращает список строк для удобного вывода.

 ## Запуск и обработка результата pyperplan
 
![image](https://github.com/user-attachments/assets/031345d5-484d-4ce6-8643-0943552891fb)

Если файлы PDDL существуют, скрипт логирует сообщение о начале работы и запускает Pyperplan как модуль Python с помощью sys.argv. Флаг --loglevel debug обеспечивает вывод подробных отладочных сообщений, таких как этапы grounding и итерации BFS.

Обработка результата работы pyperplan заключается в следующем: Если выполнение завершилось успешно, скрипт проверяет наличие файла решения (.soln), читает его и передаёт в функцию parse_plan для преобразования. Затем он выводит план действий с нумерацией шагов в читаемом виде.


Результатом выполнения кода явлется следующее:

![image](https://github.com/user-attachments/assets/016d2fa3-dce3-4cdb-a707-44353f36914b)


Здесь видно, что программа справилась с выполнением задачи (построение башни ABCD, в результате работы 2-х агентов планирования). 

## Debugging




https://github.com/user-attachments/assets/e3e54500-e23e-494b-9286-787beb83e564





